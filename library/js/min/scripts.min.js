var GameObject,GameObjects;GameObjects={},GameObject=function(){function t(){this.id=Utils.uuid(),GameObjects[this.id]=this}return t.prototype.update=function(){},t.prototype.destroy=function(){return delete GameObjects[this.id]},t}();var Menu;Menu=function(){},Menu.prototype={preload:function(){return game.load.image("background","library/assets/background.png")},create:function(){var t,e;game.add.sprite(0,0,"background"),e=game.add.text(game.world.centerX,150,"Blind Aliens",{font:"65px Arial",fill:"#ffffff",align:"center"}),e.anchor.setTo(.5,.5),t=game.add.text(game.world.centerX,300,"Click anywhere to play the game",{font:"16px Arial",fill:"#bbbbbb",align:"center"}),t.anchor.setTo(.5,.5)},update:function(){game.input.activePointer.justPressed()&&game.state.start("play")}};var Play;Play=function(){},Play.prototype={preload:function(){return game.load.image("background","library/assets/background.png"),game.load.image("player","library/assets/player.png"),game.load.image("circle","library/assets/circle.png")},create:function(){return game.physics.startSystem(Phaser.Physics.ARCADE),game.add.sprite(0,0,"background"),this.player=new Player(50,50)},update:function(){var t,e,i;for(this.player.update(),e=0,i=Circles.length;i>e;e++)t=Circles[e],null!=t&&t.update();return console.log(Circles)}};var Utils;Utils={},Utils.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,i;return e=16*Math.random()|0,i="x"===t?e:3&e|8,i.toString(16)})};var Circle,Circles,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Circles=[],Circle=function(t){function e(t,e,i){this.x=t,this.y=e,this.r=i,this.sprite=game.add.sprite(this.x,this.y,"circle"),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5,this.sprite.width=10,this.sprite.height=10,this.rad=this.r,Circles.push(this)}return __extends(e,t),e.prototype.update=function(){var t;return t=3+this.sprite.width,this.sprite.width=t,this.sprite.height=t,this.sprite.alpha=1-t/this.rad,this.invalid()?this.destroy():void 0},e.prototype.invalid=function(){return this.sprite.height>2*this.rad},e.prototype.destroy=function(){var t;return this.sprite.destroy(),Circles=function(){var e,i,r;for(r=[],e=0,i=Circles.length;i>e;e++)t=Circles[e],t!==this&&r.push(t);return r}.call(this)},e}(GameObject);var Alien,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Alien=function(t){function e(){}return __extends(e,t),e.prototype.update=function(){},e.prototype.destroy=function(){},e}(GameObject);var Player,__hasProp={}.hasOwnProperty,__extends=function(t,e){function i(){this.constructor=t}for(var r in e)__hasProp.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};Player=function(t){function e(t,e){this.x=t,this.y=e,this.controls=game.input.keyboard.createCursorKeys(),this.sprite=game.add.sprite(this.x,this.y,"player"),game.physics.arcade.enable(this.sprite),this.sprite.body.collideWorldBounds=!0,this.sprite.anchor.x=.5,this.sprite.anchor.y=.75,this.i=0,this.countdown=4e3}return __extends(e,t),e.prototype.update=function(){var t,e;return this.sprite.body.acceleration.x=0,this.sprite.body.acceleration.y=0,t=0,t=this.controls.left.isDown?t-1:t,t=this.controls.right.isDown?t+1:t,e=0,e=this.controls.down.isDown?e+1:e,e=this.controls.up.isDown?e-1:e,-1===t&&(this.sprite.body.acceleration.x=this.sprite.body.velocity.x>0?-600:-300),1===t&&(this.sprite.body.acceleration.x=this.sprite.body.velocity.x<0?600:300),-1===e&&(this.sprite.body.acceleration.y=this.sprite.body.velocity.y>0?-600:-300),1===e&&(this.sprite.body.acceleration.y=this.sprite.body.velocity.y<0?600:300),0===this.sprite.body.acceleration.x&&(this.sprite.body.acceleration.x=-5*this.sprite.body.velocity.x),0===this.sprite.body.acceleration.y&&(this.sprite.body.acceleration.y=-5*this.sprite.body.velocity.y),this.i=this.i+1,t=this.sprite.body.x+this.sprite.body.width*this.sprite.anchor.x-game.input.mousePointer.x,e=this.sprite.body.y+this.sprite.body.height*this.sprite.anchor.y-game.input.mousePointer.y,this.sprite.angle=-105+180*Math.atan2(e,t)/Math.PI+15*Math.sin(this.i/100),this.countdown=this.countdown-Math.abs(this.sprite.body.velocity.x)-Math.abs(this.sprite.body.velocity.y),this.countdown<0&&(this.countdown=4e3,new Circle(this.sprite.body.x+this.sprite.body.width*this.sprite.anchor.x,this.sprite.body.y+this.sprite.body.height*this.sprite.anchor.y,2*Math.max(Math.abs(this.sprite.body.velocity.x),Math.abs(this.sprite.body.velocity.y)))),this.sprite.bringToTop()},e.prototype.destroy=function(){},e}(GameObject);var Graph;Graph=function(){function t(t){this.nodes=t}return t}();var game;game=new Phaser.Game(800,600,Phaser.AUTO,"phaser-stage"),game.state.add("menu",Menu),game.state.add("play",Play),game.state.start("menu");