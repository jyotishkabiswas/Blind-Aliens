var GameObject,GameObjects;GameObjects={},GameObject=function(){function t(){this.id=Utils.uuid(),GameObjects[this.id]=this}return t.prototype.update=function(){},t.prototype.destroy=function(){return delete GameObjects[this.id]},t}();var Menu;Menu=function(){},Menu.prototype={preload:function(){return game.load.image("background","library/assets/background.png")},create:function(){var t,e;game.add.sprite(0,0,"background"),e=game.add.text(game.world.centerX,150,"Blind Aliens",{font:"65px Arial",fill:"#ffffff",align:"center"}),e.anchor.setTo(.5,.5),t=game.add.text(game.world.centerX,300,"Click anywhere to play the game",{font:"16px Arial",fill:"#bbbbbb",align:"center"}),t.anchor.setTo(.5,.5)},update:function(){game.input.activePointer.justPressed()&&game.state.start("play")}};var Play;Play=function(){},Play.prototype={preload:function(){return game.load.image("background","library/assets/background.png"),game.load.image("player","library/assets/player.png")},create:function(){return game.physics.startSystem(Phaser.Physics.ARCADE),game.add.sprite(0,0,"background"),this.player=new Player(50,50)},update:function(){var t,e,r;r=[];for(t in GameObjects)e=GameObjects[t],r.push(e.update());return r}};var Utils;Utils={},Utils.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e,r;return e=16*Math.random()|0,r="x"===t?e:3&e|8,r.toString(16)})};var Alien,__hasProp={}.hasOwnProperty,__extends=function(t,e){function r(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Alien=function(t){function e(t,r){this.x=t,this.y=r,e.__super__.constructor.call(this),this.state=this.constructor.STATES.UNAWARE,this.sprite=game.add.sprite(this.x,this.y,"player"),game.physics.arcade.enable(this.sprite),this.sprite.body.collideWorldBounds=!0,this.sprite.anchor.setTo(.5,.75),this.state=this.constructor.STATES.UNAWARE}return __extends(e,t),e.STATES={UNAWARE:"WAITING",AWARE:{x:0,y:0}},e.prototype.update=function(){return this.state===this.constructor.STATES.UNAWARE?this._randomWalk():this._awareWalk()},e.prototype._randomWalk=function(){},e.prototype._awareWalk=function(){},e.prototype.destroy=function(){},e}(GameObject);var Player,__hasProp={}.hasOwnProperty,__extends=function(t,e){function r(){this.constructor=t}for(var o in e)__hasProp.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Player=function(t){function e(t,r){var o;this.x=t,this.y=r,e.__super__.constructor.call(this),o=game.input.keyboard.createCursorKeys(),this.controls={},this.controls.left=o.left,this.controls.down=o.down,this.controls.right=o.right,this.controls.up=o.up,this.controls.W=game.input.keyboard.addKey(Phaser.Keyboard.W),this.controls.A=game.input.keyboard.addKey(Phaser.Keyboard.A),this.controls.S=game.input.keyboard.addKey(Phaser.Keyboard.S),this.controls.D=game.input.keyboard.addKey(Phaser.Keyboard.D),this.sprite=game.add.sprite(this.x,this.y,"player"),game.physics.arcade.enable(this.sprite),this.sprite.body.collideWorldBounds=!0,this.sprite.anchor.setTo(.5,.75),this.i=0}return __extends(e,t),e.prototype.update=function(){var t,e;return this.sprite.body.acceleration.x=0,this.sprite.body.acceleration.y=0,t=0,t=this.controls.left.isDown||this.controls.A.isDown?t-1:t,t=this.controls.right.isDown||this.controls.D.isDown?t+1:t,e=0,e=this.controls.down.isDown||this.controls.S.isDown?e+1:e,e=this.controls.up.isDown||this.controls.W.isDown?e-1:e,-1===t&&(this.sprite.body.acceleration.x=this.sprite.body.velocity.x>0?-600:-300),1===t&&(this.sprite.body.acceleration.x=this.sprite.body.velocity.x<0?600:300),-1===e&&(this.sprite.body.acceleration.y=this.sprite.body.velocity.y>0?-600:-300),1===e&&(this.sprite.body.acceleration.y=this.sprite.body.velocity.y<0?600:300),0===this.sprite.body.acceleration.x&&(this.sprite.body.acceleration.x=-5*this.sprite.body.velocity.x),0===this.sprite.body.acceleration.y&&(this.sprite.body.acceleration.y=-5*this.sprite.body.velocity.y),this.i=this.i+1,t=this.sprite.body.x-game.input.mousePointer.x,e=this.sprite.body.y-game.input.mousePointer.y,this.sprite.angle=-105+180*Math.atan2(e,t)/Math.PI+15*Math.sin(this.i/100)},e.prototype.destroy=function(){},e}(GameObject);var Graph;Graph=function(){function t(t){this.nodes=t}return t}();var game;game=new Phaser.Game(800,600,Phaser.AUTO,"phaser-stage"),game.state.add("menu",Menu),game.state.add("play",Play),game.state.start("menu");